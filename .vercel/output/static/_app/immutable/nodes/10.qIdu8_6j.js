import{s as Te,O as ae,e as V,a as P,c as C,b as M,K as me,g as T,f as d,m as w,Q as Se,i as D,h,R as le,B as qe,t as X,d as Y,F as ve,n as we}from"../chunks/scheduler.ropGePTB.js";import{S as Ae,i as He,f as oe,c as k,b as y,m as E,t as $,a as _,e as ue,d as q,g as fe}from"../chunks/index.omb6osbG.js";import{B as ie}from"../chunks/Button.1eDDyTcg.js";import{I as ke}from"../chunks/Input.ySuKA3ju.js";import{P as Le,H as Ne}from"../chunks/PasswordStrengthPopover.QLTDgvGn.js";import{M as Oe}from"../chunks/Modal.lCYQO-bj.js";import{S as ze}from"../chunks/Spinner.Tx-o0yqa.js";import{A as Be}from"../chunks/Alert.DwrAKRfs.js";import{E as Fe}from"../chunks/ExclamationCircleOutline.uCj3bw0D.js";import{E as Ve,a as Ce}from"../chunks/EyeSlashOutline.enxVhiWu.js";import{c as ye}from"../chunks/auth.7G7zOpdj.js";function Ue(r){let e,t;return e=new Ve({props:{class:"w-5 h-5 text-gray-400 dark:text-gray-200"}}),{c(){k(e.$$.fragment)},l(s){y(e.$$.fragment,s)},m(s,a){E(e,s,a),t=!0},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function je(r){let e,t;return e=new Ce({props:{class:"w-5 h-5 text-gray-400 dark:text-gray-200"}}),{c(){k(e.$$.fragment)},l(s){y(e.$$.fragment,s)},m(s,a){E(e,s,a),t=!0},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function Ke(r){let e,t,s,a,g,p;const f=[je,Ue],l=[];function m(o,i){return o[3]?0:1}return t=m(r),s=l[t]=f[t](r),{c(){e=V("button"),s.c(),this.h()},l(o){e=C(o,"BUTTON",{slot:!0,class:!0});var i=M(e);s.l(i),i.forEach(d),this.h()},h(){w(e,"slot","left"),w(e,"class","pointer-events-auto")},m(o,i){D(o,e,i),l[t].m(e,null),a=!0,g||(p=qe(e,"click",r[12]),g=!0)},p(o,i){let u=t;t=m(o),t!==u&&(fe(),_(l[u],1,1,()=>{l[u]=null}),ue(),s=l[t],s||(s=l[t]=f[t](o),s.c()),$(s,1),s.m(e,null))},i(o){a||($(s),a=!0)},o(o){_(s),a=!1},d(o){o&&d(e),l[t].d(),g=!1,p()}}}function Qe(r){let e,t;return e=new Ve({props:{class:"w-5 h-5 text-gray-400 dark:text-gray-200"}}),{c(){k(e.$$.fragment)},l(s){y(e.$$.fragment,s)},m(s,a){E(e,s,a),t=!0},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function Re(r){let e,t;return e=new Ce({props:{class:"w-5 h-5 text-gray-400 dark:text-gray-200"}}),{c(){k(e.$$.fragment)},l(s){y(e.$$.fragment,s)},m(s,a){E(e,s,a),t=!0},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function Ge(r){let e,t,s,a,g,p;const f=[Re,Qe],l=[];function m(o,i){return o[5]?0:1}return t=m(r),s=l[t]=f[t](r),{c(){e=V("button"),s.c(),this.h()},l(o){e=C(o,"BUTTON",{slot:!0,class:!0});var i=M(e);s.l(i),i.forEach(d),this.h()},h(){w(e,"slot","left"),w(e,"class","pointer-events-auto")},m(o,i){D(o,e,i),l[t].m(e,null),a=!0,g||(p=qe(e,"click",r[15]),g=!0)},p(o,i){let u=t;t=m(o),t!==u&&(fe(),_(l[u],1,1,()=>{l[u]=null}),ue(),s=l[t],s||(s=l[t]=f[t](o),s.c()),$(s,1),s.m(e,null))},i(o){a||($(s),a=!0)},o(o){_(s),a=!1},d(o){o&&d(e),l[t].d(),g=!1,p()}}}function Ee(r){let e,t;return e=new Ne({props:{color:"red",$$slots:{default:[Je]},$$scope:{ctx:r}}}),{c(){k(e.$$.fragment)},l(s){y(e.$$.fragment,s)},m(s,a){E(e,s,a),t=!0},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function Je(r){let e;return{c(){e=X("Las contraseñas no coinciden")},l(t){e=Y(t,"Las contraseñas no coinciden")},m(t,s){D(t,e,s)},d(t){t&&d(e)}}}function We(r){let e;return{c(){e=X("Actualizar contraseña")},l(t){e=Y(t,"Actualizar contraseña")},m(t,s){D(t,e,s)},i:we,o:we,d(t){t&&d(e)}}}function Xe(r){let e,t,s;return e=new ze({props:{class:"w-5 h-5 mr-3 text-white"}}),{c(){k(e.$$.fragment),t=X(" Cargando...")},l(a){y(e.$$.fragment,a),t=Y(a," Cargando...")},m(a,g){E(e,a,g),D(a,t,g),s=!0},i(a){s||($(e.$$.fragment,a),s=!0)},o(a){_(e.$$.fragment,a),s=!1},d(a){a&&d(t),q(e,a)}}}function Ye(r){let e,t,s,a;const g=[Xe,We],p=[];function f(l,m){return l[7]?0:1}return e=f(r),t=p[e]=g[e](r),{c(){t.c(),s=ve()},l(l){t.l(l),s=ve()},m(l,m){p[e].m(l,m),D(l,s,m),a=!0},p(l,m){let o=e;e=f(l),e!==o&&(fe(),_(p[o],1,1,()=>{p[o]=null}),ue(),t=p[e],t||(t=p[e]=g[e](l),t.c()),$(t,1),t.m(s.parentNode,s))},i(l){a||($(t),a=!0)},o(l){_(t),a=!1},d(l){l&&d(s),p[e].d(l)}}}function Ze(r){let e;return{c(){e=X("Eliminar cuenta")},l(t){e=Y(t,"Eliminar cuenta")},m(t,s){D(t,e,s)},d(t){t&&d(e)}}}function xe(r){let e;return{c(){e=X("Sí, borrar")},l(t){e=Y(t,"Sí, borrar")},m(t,s){D(t,e,s)},d(t){t&&d(e)}}}function et(r){let e;return{c(){e=X("No, cancelar")},l(t){e=Y(t,"No, cancelar")},m(t,s){D(t,e,s)},d(t){t&&d(e)}}}function tt(r){let e,t,s,a,g="Seguro deseas eliminar esta cuenta? No se puede recuperar",p,f,l,m,o;return t=new Fe({props:{class:"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200"}}),f=new ie({props:{color:"red",class:"me-2",$$slots:{default:[xe]},$$scope:{ctx:r}}}),f.$on("click",r[9]),m=new ie({props:{color:"alternative",$$slots:{default:[et]},$$scope:{ctx:r}}}),m.$on("click",r[17]),{c(){e=V("div"),k(t.$$.fragment),s=P(),a=V("h3"),a.textContent=g,p=P(),k(f.$$.fragment),l=P(),k(m.$$.fragment),this.h()},l(i){e=C(i,"DIV",{class:!0});var u=M(e);y(t.$$.fragment,u),s=T(u),a=C(u,"H3",{class:!0,"data-svelte-h":!0}),me(a)!=="svelte-121wy5j"&&(a.textContent=g),p=T(u),y(f.$$.fragment,u),l=T(u),y(m.$$.fragment,u),u.forEach(d),this.h()},h(){w(a,"class","mb-5 text-lg font-normal text-gray-500 dark:text-gray-400"),w(e,"class","text-center")},m(i,u){D(i,e,u),E(t,e,null),h(e,s),h(e,a),h(e,p),E(f,e,null),h(e,l),E(m,e,null),o=!0},p(i,u){const B={};u&524288&&(B.$$scope={dirty:u,ctx:i}),f.$set(B);const F={};u&524288&&(F.$$scope={dirty:u,ctx:i}),m.$set(F)},i(i){o||($(t.$$.fragment,i),$(f.$$.fragment,i),$(m.$$.fragment,i),o=!0)},o(i){_(t.$$.fragment,i),_(f.$$.fragment,i),_(m.$$.fragment,i),o=!1},d(i){i&&d(e),q(t),q(f),q(m)}}}function st(r){let e,t,s,a='<h1 class="svelte-1kqsmqm">Cambiar contraseña</h1> <hr class="solid"/>',g,p,f,l,m,o,i,u,B,F,U,S,Z,x,ee,j,A,v,H,R,de='<h1 class="svelte-1kqsmqm">Eliminar cuenta</h1> <hr class="solid"/>',ce,J,N,se,K,re,O,pe,ne;function De(n){r[13](n)}let $e={type:r[3]?"text":"password",id:"password",placeholder:"Nueva contraseña",class:"focus:ring-blue-500 focus:border-blue-500",color:r[6]?"green":"base",$$slots:{left:[Ke]},$$scope:{ctx:r}};r[2]!==void 0&&($e.value=r[2]),l=new ke({props:$e}),ae.push(()=>oe(l,"value",De));function Ie(n){r[14](n)}let _e={};r[2]!==void 0&&(_e.password=r[2]),u=new Le({props:_e}),ae.push(()=>oe(u,"password",Ie)),u.$on("passwordValid",r[10]);function Pe(n){r[16](n)}let ge={type:r[5]?"text":"password",placeholder:"Confirmar contraseña",class:"focus:ring-blue-500 focus:border-blue-500",color:r[2]==r[4]&&r[2]!=""?"green":"base",$$slots:{left:[Ge]},$$scope:{ctx:r}};r[4]!==void 0&&(ge.value=r[4]),S=new ke({props:ge}),ae.push(()=>oe(S,"value",Pe));let b=r[2]!=r[4]&&r[2]!=""&&r[4]!=""&&Ee(r);A=new ie({props:{class:"bg-black hover:bg-gray-700",disabled:r[2]!=r[4]||r[2]==""||r[4]==""||!r[6],$$slots:{default:[Ye]},$$scope:{ctx:r}}}),A.$on("click",r[11]),N=new ie({props:{color:"red",$$slots:{default:[Ze]},$$scope:{ctx:r}}}),N.$on("click",r[8]),K=new Be({props:{alertType:r[0].type,alertMessage:r[0].message,alertVisible:r[0].visible}});function Me(n){r[18](n)}let he={size:"sm",outsideclose:!0,$$slots:{default:[tt]},$$scope:{ctx:r}};return r[1]!==void 0&&(he.open=r[1]),O=new Oe({props:he}),ae.push(()=>oe(O,"open",Me)),{c(){e=V("div"),t=V("div"),s=V("div"),s.innerHTML=a,g=P(),p=V("div"),f=V("div"),k(l.$$.fragment),o=P(),i=V("div"),k(u.$$.fragment),F=P(),U=V("div"),k(S.$$.fragment),x=P(),b&&b.c(),ee=P(),j=V("div"),k(A.$$.fragment),v=P(),H=V("div"),R=V("div"),R.innerHTML=de,ce=P(),J=V("div"),k(N.$$.fragment),se=P(),k(K.$$.fragment),re=P(),k(O.$$.fragment),this.h()},l(n){e=C(n,"DIV",{class:!0});var c=M(e);t=C(c,"DIV",{class:!0});var I=M(t);s=C(I,"DIV",{class:!0,"data-svelte-h":!0}),me(s)!=="svelte-k2ezxr"&&(s.innerHTML=a),g=T(I),p=C(I,"DIV",{class:!0});var z=M(p);f=C(z,"DIV",{class:!0});var L=M(f);y(l.$$.fragment,L),o=T(L),i=C(L,"DIV",{style:!0});var W=M(i);y(u.$$.fragment,W),W.forEach(d),L.forEach(d),F=T(z),U=C(z,"DIV",{class:!0});var te=M(U);y(S.$$.fragment,te),te.forEach(d),x=T(z),b&&b.l(z),z.forEach(d),ee=T(I),j=C(I,"DIV",{class:!0});var G=M(j);y(A.$$.fragment,G),G.forEach(d),I.forEach(d),v=T(c),H=C(c,"DIV",{class:!0});var Q=M(H);R=C(Q,"DIV",{class:!0,"data-svelte-h":!0}),me(R)!=="svelte-l7kx0i"&&(R.innerHTML=de),ce=T(Q),J=C(Q,"DIV",{class:!0});var be=M(J);y(N.$$.fragment,be),be.forEach(d),Q.forEach(d),c.forEach(d),se=T(n),y(K.$$.fragment,n),re=T(n),y(O.$$.fragment,n),this.h()},h(){w(s,"class","change-password-title svelte-1kqsmqm"),Se(i,"z-index","1"),w(f,"class","flex items-center gap-2"),w(U,"class","flex items-center gap-2"),w(p,"class","change-password-input svelte-1kqsmqm"),w(j,"class","change-password-button svelte-1kqsmqm"),w(t,"class","change-password svelte-1kqsmqm"),w(R,"class","change-password-title svelte-1kqsmqm"),w(J,"class","change-password-button svelte-1kqsmqm"),w(H,"class","change-password svelte-1kqsmqm"),w(e,"class","settings-container svelte-1kqsmqm")},m(n,c){D(n,e,c),h(e,t),h(t,s),h(t,g),h(t,p),h(p,f),E(l,f,null),h(f,o),h(f,i),E(u,i,null),h(p,F),h(p,U),E(S,U,null),h(p,x),b&&b.m(p,null),h(t,ee),h(t,j),E(A,j,null),h(e,v),h(e,H),h(H,R),h(H,ce),h(H,J),E(N,J,null),D(n,se,c),E(K,n,c),D(n,re,c),E(O,n,c),ne=!0},p(n,[c]){const I={};c&8&&(I.type=n[3]?"text":"password"),c&64&&(I.color=n[6]?"green":"base"),c&524296&&(I.$$scope={dirty:c,ctx:n}),!m&&c&4&&(m=!0,I.value=n[2],le(()=>m=!1)),l.$set(I);const z={};!B&&c&4&&(B=!0,z.password=n[2],le(()=>B=!1)),u.$set(z);const L={};c&32&&(L.type=n[5]?"text":"password"),c&20&&(L.color=n[2]==n[4]&&n[2]!=""?"green":"base"),c&524320&&(L.$$scope={dirty:c,ctx:n}),!Z&&c&16&&(Z=!0,L.value=n[4],le(()=>Z=!1)),S.$set(L),n[2]!=n[4]&&n[2]!=""&&n[4]!=""?b?c&20&&$(b,1):(b=Ee(n),b.c(),$(b,1),b.m(p,null)):b&&(fe(),_(b,1,1,()=>{b=null}),ue());const W={};c&84&&(W.disabled=n[2]!=n[4]||n[2]==""||n[4]==""||!n[6]),c&524416&&(W.$$scope={dirty:c,ctx:n}),A.$set(W);const te={};c&524288&&(te.$$scope={dirty:c,ctx:n}),N.$set(te);const G={};c&1&&(G.alertType=n[0].type),c&1&&(G.alertMessage=n[0].message),c&1&&(G.alertVisible=n[0].visible),K.$set(G);const Q={};c&524290&&(Q.$$scope={dirty:c,ctx:n}),!pe&&c&2&&(pe=!0,Q.open=n[1],le(()=>pe=!1)),O.$set(Q)},i(n){ne||($(l.$$.fragment,n),$(u.$$.fragment,n),$(S.$$.fragment,n),$(b),$(A.$$.fragment,n),$(N.$$.fragment,n),$(K.$$.fragment,n),$(O.$$.fragment,n),ne=!0)},o(n){_(l.$$.fragment,n),_(u.$$.fragment,n),_(S.$$.fragment,n),_(b),_(A.$$.fragment,n),_(N.$$.fragment,n),_(K.$$.fragment,n),_(O.$$.fragment,n),ne=!1},d(n){n&&(d(e),d(se),d(re)),q(l),q(u),q(S),b&&b.d(),q(A),q(N),q(K,n),q(O,n)}}}function rt(r,e,t){let s={visible:!1,type:"error",message:""},a=!1;function g(){t(1,a=!0)}async function p(){try{await ye.deleteAccount(),window.location.href="/",t(0,s={visible:!0,type:"success",message:"Cuenta eliminada correctamente."})}catch(v){t(0,s={visible:!0,type:"error",message:v.message})}}let f="",l=!1,m="",o=!1,i=!1,u=!1;function B(v){t(6,i=v.detail)}async function F(){t(7,u=!0);try{await ye.updatePassword(f),t(0,s={visible:!0,type:"success",message:"Contraseña actualizada correctamente."}),t(2,f=""),t(4,m=""),t(7,u=!1)}catch(v){t(0,s={visible:!0,type:"error",message:v.message}),t(7,u=!1)}}const U=()=>t(3,l=!l);function S(v){f=v,t(2,f)}function Z(v){f=v,t(2,f)}const x=()=>t(5,o=!o);function ee(v){m=v,t(4,m)}const j=()=>t(1,a=!1);function A(v){a=v,t(1,a)}return[s,a,f,l,m,o,i,u,g,p,B,F,U,S,Z,x,ee,j,A]}class $t extends Ae{constructor(e){super(),He(this,e,rt,st,Te,{})}}export{$t as component};
